# Default kind cluster config for local development with Istio (Gateway API)
# - 1 control-plane
# - 3 workers
# - Host ports 32080/32443 mapped to node for Istio NodePorts

kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
name: kind-local
nodes:
  - role: control-plane
    kubeadmConfigPatches: []
    extraPortMappings:
      - containerPort: 32080
        hostPort: 32080
        protocol: TCP
      - containerPort: 32443
        hostPort: 32443
        protocol: TCP
  - role: worker
  - role: worker
  - role: worker
